<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trip Cost Calculator (€ → PLN)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f8f9fa;
      color: #333;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h2 { text-align: center; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #007bff;
      color: white;
    }
    input[type="number"] {
      width: 90px;
      padding: 4px;
      border-radius: 4px;
      border: 1px solid #ccc;
      text-align: right;
    }
    select, input[type="text"], input[type="number"] {
      width: 100%;
      box-sizing: border-box;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h2>Trip Cost Calculator (€ → PLN)</h2>

  <label><strong>Number of People:</strong></label>
  <input type="number" id="numPeople" min="1" value="1">

  <label for="exchangeRate"><strong>Exchange Rate (1 € = PLN):</strong></label>
  <input type="number" id="exchangeRate" step="0.01" value="4.50">

  <h3>Departure Options</h3>
  <table>
    <tr><th>Departure</th><th>Ticket Price (€)</th></tr>
    <tr><td>26.12 11:00</td><td><input type="number" id="dep2611" value="27"></td></tr>
    <tr><td>27.12 07:05</td><td><input type="number" id="dep2707" value="30"></td></tr>
    <tr><td>28.12 07:05</td><td><input type="number" id="dep2807" value="44"></td></tr>
    <tr><td>28.12 10:15</td><td><input type="number" id="dep2810" value="62"></td></tr>
  </table>

  <label for="departureSelect" style="margin-top:10px; display:block;">Select Departure:</label>
  <select id="departureSelect">
    <option value="dep2611" data-date="2025-12-26T11:00">26.12 11:00</option>
    <option value="dep2707" data-date="2025-12-27T07:05">27.12 07:05</option>
    <option value="dep2807" data-date="2025-12-28T07:05">28.12 07:05</option>
    <option value="dep2810" data-date="2025-12-28T10:15">28.12 10:15</option>
  </select>

  <h3>Return Options</h3>
  <table>
    <tr><th>Return</th><th>Ticket Price (€)</th></tr>
    <tr><td>02.01 13:35</td><td><input type="number" id="ret0213" value="52"></td></tr>
    <tr><td>03.01 09:30</td><td><input type="number" id="ret0309" value="66"></td></tr>
    <tr><td>04.01 09:40</td><td><input type="number" id="ret0409" value="18"></td></tr>
    <tr><td>04.01 12:40</td><td><input type="number" id="ret0412" value="37"></td></tr>
  </table>

  <label for="returnSelect" style="margin-top:10px; display:block;">Select Return:</label>
  <select id="returnSelect">
    <option value="ret0213" data-date="2026-01-02T13:35">02.01 13:35</option>
    <option value="ret0309" data-date="2026-01-03T09:30">03.01 09:30</option>
    <option value="ret0409" data-date="2026-01-04T09:40">04.01 09:40</option>
    <option value="ret0412" data-date="2026-01-04T12:40">04.01 12:40</option>
  </select>

  <h3>Car Rental</h3>
  <label for="carRate">Rate per day (PLN):</label>
  <input type="number" id="carRate" placeholder="Enter daily rate">

  <h3>Hotel</h3>
  <label for="hotelCost">Hotel Cost (PLN):</label>
  <input type="number" id="hotelCost" placeholder="Enter total hotel cost">

  <div id="result"></div>

  <script>
    function calculateDays(depDateStr, retDateStr) {
      const dep = new Date(depDateStr);
      const ret = new Date(retDateStr);
      const diff = ret - dep;
      return Math.max(1, diff / (1000 * 60 * 60 * 24));
    }

    function calculateTotal() {
      const numPeople = parseInt(document.getElementById("numPeople").value) || 1;
      const exchangeRate = parseFloat(document.getElementById("exchangeRate").value) || 4.5;

      const depSelect = document.getElementById("departureSelect");
      const retSelect = document.getElementById("returnSelect");

      const depKey = depSelect.value;
      const retKey = retSelect.value;
      const depDateStr = depSelect.selectedOptions[0].dataset.date;
      const retDateStr = retSelect.selectedOptions[0].dataset.date;

      const depEuro = parseFloat(document.getElementById(depKey).value) || 0;
      const retEuro = parseFloat(document.getElementById(retKey).value) || 0;
      const carRatePLN = parseFloat(document.getElementById("carRate").value) || 0;
      const hotelCostPLN = parseFloat(document.getElementById("hotelCost").value) || 0;

      const tripDays = calculateDays(depDateStr, retDateStr);
      const depTotalEuro = depEuro * numPeople;
      const retTotalEuro = retEuro * numPeople;
      const depTotalPLN = depTotalEuro * exchangeRate;
      const retTotalPLN = retTotalEuro * exchangeRate;
      const carRentalPLN = tripDays * carRatePLN;
      const totalPLN = depTotalPLN + retTotalPLN + carRentalPLN + hotelCostPLN;
      const perPersonPLN = totalPLN / numPeople;

      const depLabel = depSelect.selectedOptions[0].textContent;
      const retLabel = retSelect.selectedOptions[0].textContent;

      document.getElementById("result").innerText =
`Trip Duration: ${tripDays.toFixed(1)} days
People: ${numPeople}
Exchange Rate: 1 € = ${exchangeRate.toFixed(4)} PLN

Departure (${depLabel}): €${depEuro.toFixed(2)} × ${numPeople} = €${depTotalEuro.toFixed(2)} = ${depTotalPLN.toFixed(2)} PLN
Return (${retLabel}): €${retEuro.toFixed(2)} × ${numPeople} = €${retTotalEuro.toFixed(2)} = ${retTotalPLN.toFixed(2)} PLN
Car Rental (${tripDays.toFixed(1)} days @ ${carRatePLN.toFixed(2)} PLN): ${carRentalPLN.toFixed(2)} PLN
Hotel: ${hotelCostPLN.toFixed(2)} PLN

---------------------------------
Total Trip Cost: ${totalPLN.toFixed(2)} PLN
Cost per Person: ${perPersonPLN.toFixed(2)} PLN`;
    }

    // Auto-recalculate whenever something changes
    document.querySelectorAll("input, select").forEach(el => {
      el.addEventListener("input", calculateTotal);
      el.addEventListener("change", calculateTotal);
    });

    // Initial calculation
    calculateTotal();
  </script>
</body>
</html>
